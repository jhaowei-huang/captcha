<!DOCTYPE html>
<html>
	<head>
		<link rel=stylesheet type="text/css" href="style.css">
		<script src = "jquery-2.1.1.min.js"></script>
		<script>
			var timerID;
			var counts = 0;
			var clicks = 0;
			$(document).ready(function() {
				$("#btn").click(function(){
					$('#rect').fadeOut('fast', function() {
				        $(this).load('/echo/json/', function() {
				            $(this).fadeIn('fast');
				        });
				    });
				    counts = 0;
				    clicks = 0;
				});

				$("#rect").click(function() {
					if(clicks == 0) {
						timerID = setInterval("tik()", 100);
					}

					var str = "click times = " + (++clicks);
					$("#info").text(str);
					
					if(clicks == 5) {
						clearInterval(timerID);
						alert("pass");
					}
				});
			});
			
			function tik() {
			    document.getElementById("timer").innerHTML = "time : " + (++counts);
			}
		</script>

		<title>Timer</title>
	</head>
	<body>
		<button id = "btn"> click </button>
		<p id = "info">click times = 0</p>
		<div id = "rect"> this is rect.</div>
		<p id = "timer"></p>
	</body>
</html>