<html>
	<head>
		<script src = "js/jquery/jquery-2.1.1.js"></script>
		<script>
			$(document).ready(function(){
				$('canvas').drawLine({
					strokeStyle: '#000',
				  	strokeWidth: 10,
				  	x1: 0, y1: 0,
				  	x2: 300, y2: 0,
				  	x3: 300, y3: 300,
				  	x4: 0, y4: 300,
				  	x5: 0, y5: 0
				});
				$("button").click(function(){
					// $("#p1").toggle();
					// var str = $("#p1").css("display");
					// $("#p2").html(str);
					// var str = {
					//   fillStyle: "#9cf",
					//   strokeStyle: '#25a',
					//   strokeWidth: 2,
					//   x: newWord.x, y: newWord.y,
					//   fontSize: 48,
					//   fontFamily: 'Verdana, sans-serif',
					//   text: newWord.text
					// }

					var str = {
						fillStyle: randomColor(),
					  // strokeStyle: '#25a',
					  // strokeWidth: 2,
					  	x: randomPos(), y: randomPos(),
					  	fontSize: 45,
					  	fontFamily: 'SWTOR Trajan, Italic',
					  	text: randomChar()
					}

					var obj = {
						strokeStyle: '#000',
					    strokeWidth: 2,
					};
					var pts = rect(str.x, str.y);
					for (var p = 0 ; p < pts.length ; p += 1) {
						obj['x' + (p + 1)] = pts[p][0];
					    obj['y' + (p + 1)] = pts[p][1];
					}

					$('canvas')
					.drawText(str)
					.drawArc({
				  		fillStyle: '#000',
				  		x: str.x, y: str.y,
				  		radius: 2
					})
					.drawLine(obj);

					
				});
			});
		</script>
	</head>
	
	<body>		
		<script type="text/javascript">
			function randomChar() {
				var c = String.fromCharCode(0x0041 + Math.random() * (0x005A - 0x0041 + 1));
				return c;
			}
			function randomPos() {
				var max = 270;
					min = 30;
				return Math.floor(Math.random() * (max - min)) + min;
			}
			function randomColor() {
				var newColor = "#" + (0x1000000+(Math.random()) * 0xffffff).toString(16).substr(1,6);
				return newColor;
			}
			function rect(cx, cy) {
				var pts = [
			    	[cx - 20, cy - 20],
			    	[cx + 20, cy - 20],
			    	[cx + 20, cy + 20],
			    	[cx - 20, cy + 20],
 					[cx - 20, cy - 20]
				];
				return pts;
			}

// Add the points from the array to the object
// for (var p=0; p<pts.length; p+=1) {
//   obj['x'+(p+1)] = pts[p][0];
//   obj['y'+(p+1)] = pts[p][1];
// }
		</script>
		<p id = "p1"> img-based-CAPTCHA </p>
		<p id = "p2" style = "display:block"> Info. </p>
		<button id = "btn1"> Refresh </button>
		<HR>
		<canvas id = "testCanvas" width="300" height="300"></canvas> 
	</body>
</html>
<script src = "js/jcanvas-master/jcanvas.min.js"></script>