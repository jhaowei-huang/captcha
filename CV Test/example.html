<!DOCTYPE html>
<html>
<body>

<img id="scream" src="img_the_scream.jpg" alt="The Scream" width="220" height="277">
<canvas id="myCanvas" width="220" height="277" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.</canvas>

<script>
  document.getElementById("scream").onload=function(){
  var c=document.getElementById("myCanvas");
  var ctx=c.getContext("2d");
  var img=document.getElementById("scream");
  ctx.drawImage(img,0,0);
  var imgData=ctx.getImageData(0,0,c.width,c.height);
  // invert colors
  for (var i=0;i<imgData.data.length;i+=4)
    {
    imgData.data[i]=255-imgData.data[i]; // 每個pixel的R
    imgData.data[i+1]=255-imgData.data[i+1]; // 每個pixel的G
    imgData.data[i+2]=255-imgData.data[i+2]; // 每個pixel的B
    imgData.data[i+3]=255; // 每個pixel的Alpha
    }
  ctx.putImageData(imgData,0,0);
};
</script>

</body>
</html>
